{
  "fgt_googlegroups_audit_$ENV": {
    "description": "dataset for google groups",
    "labels": {},
    "location": "EU",
    "tables": {
      "raw_fact_googlegroups_t": {
        "labels": {},
        "schema": "../deployment/big-query/schemas/raw_fact_googlegroups_t.json",
        "deletion_protection": false,
        "description": "Keep history of Google Groups at Group id X User id granularity"
      },
      "raw_fact_googlegroupsnotderived_t": {
        "labels": {},
        "schema": "../deployment/big-query/schemas/raw_fact_googlegroupsnotderived_t.json",
        "deletion_protection": false,
        "description": "Keep history of Google Groups at Group id X User id granularity with no inheritence"
      }
    }
  },
  "fgt_alldataset_iam_$ENV": {
    "description": "dataset iam policies",
    "labels": {},
    "location": "EU",
    "tables": {
      "raw_fact_iampoliciestable_t": {
        "time_partitioning": [
          {
            "type": "DAY",
            "field": "timestamp",
            "expiration_ms": "0"
          }
        ],
        "labels": {},
        "schema": "../deployment/big-query/schemas/raw_fact_iampoliciestable_t.json",
        "deletion_protection": false,
        "description": "Keep history of all IAM policies either with primitive roles or BQ roles"
      }
    }
  },
  "fgt_deletionaccess_hist_$ENV": {
    "description": "Historise all access modifications",
    "labels": {},
    "location": "EU",
    "tables": {
      "raw_fact_histdeletionaccessiam_t": {
        "labels": {},
        "schema": "../deployment/big-query/schemas/raw_fact_histdeletionaccessiam_t.json",
        "deletion_protection": false,
        "description": "Keep history of IAM accesses deleted automatically"
      },
      "raw_fact_histdeletionaccessgroups_t": {
        "labels": {},
        "schema": "../deployment/big-query/schemas/raw_fact_histdeletionaccessgroups_t.json",
        "deletion_protection": false,
        "description": "Keep history of Group accesses deleted automatically"
      },
      "raw_fact_histdeletionaccessbq_t": {
        "labels": {},
        "schema": "../deployment/big-query/schemas/raw_fact_histdeletionaccessbq_t.json",
        "deletion_protection": false,
        "description": "Keep history of BQ accesses deleted automatically"
      }
    }
  },
  "fgt_annuaire_audit_$ENV": {
    "description": "dataset storing info regarding annuaire",
    "labels": {},
    "location": "EU",
    "tables": {
      "raw_fact_annuairehistiamaccesses_t": {
        "time_partitioning": [
          {
            "type": "DAY",
            "field": "ingestion_date",
            "expiration_ms": "2592000000"
          }
        ],
        "labels": {},
        "schema": "../deployment/big-query/schemas/raw_fact_annuairehistiamaccesses_t.json",
        "deletion_protection": false
      },
      "raw_fact_annuairehistdepartures_t": {
        "time_partitioning": [
          {
            "type": "DAY",
            "field": "batch_date",
            "expiration_ms": "2592000000"
          }
        ],
        "labels": {},
        "schema": "../deployment/big-query/schemas/raw_fact_annuairehistdepartures_t.json",
        "deletion_protection": false
      }
    }
  },
  "fgt_views_audit_$ENV": {
    "description": "dataset storing views to ops teams",
    "labels": {},
    "location": "EU",
    "tables": {}
  },
  "fgt_query_$ENV": {
    "description": "dataset storing queries",
    "labels": {},
    "location": "EU",
    "tables": {
      "raw_fact_query_t": {
        "labels": {},
        "schema": "../deployment/big-query/schemas/raw_fact_query_t.json",
        "deletion_protection": false
      }
    }
  },
  "fgt_data_groups_info_$ENV": {
    "description": "dataset storing data groups info",
    "labels": {},
    "location": "EU",
    "tables": {
      "raw_fact_gestionnairedata": {
        "labels": {},
        "schema": "../deployment/big-query/schemas/raw_fact_gestionnairedatagroups_t.json",
        "deletion_protection": false
      },
      "raw_fact_restrictionentities": {
        "labels": {},
        "schema": "../deployment/big-query/schemas/raw_fact_restrictionentities_t.json",
        "deletion_protection": false
      },
      "raw_fact_datagroups": {
        "labels": {},
        "schema": "../deployment/big-query/schemas/raw_fact_datagroups_t.json",
        "deletion_protection": false
      }
    },
    "views": {
      "test_view_creation": {
        "query": "select * from `ofr-fgt-shared-data-$ENV.fgt_data_groups_info_$ENV.raw_fact_datagroups`",
        "deletion_protection": "false",
        "description": "test_view_creation description",
        "labels": {}
      }
    }
  }
}